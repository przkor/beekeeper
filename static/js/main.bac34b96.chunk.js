(this.webpackJsonpbeekeeper=this.webpackJsonpbeekeeper||[]).push([[0],{73:function(e,t,n){},75:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(1),i=n(21),o=n.n(i),s=n(2),r=n(7),l=n(8),d={isUserLogged:!1,toggleUserLogged:function(){},username:"",changeUsername:function(){},cleanUsername:function(){}},j=Object(c.createContext)(d),u=n(4),b=n.n(u),h=function(e){var t=Object(l.f)(),n=Object(c.useContext)(j),i=n.toggleUserLogged,o=n.changeUsername,d=Object(c.useState)(""),u=Object(s.a)(d,2),h=u[0],O=u[1],p=Object(c.useState)(""),m=Object(s.a)(p,2),x=m[0],g=m[1],v=Object(c.useState)(""),f=Object(s.a)(v,2),y=f[0],w=f[1];Object(c.useEffect)((function(){document.getElementById("mainMenu").style.display="none"}),[]);return Object(a.jsx)("section",{children:Object(a.jsxs)("div",{children:[Object(a.jsx)("h4",{children:"Panel logowania"}),Object(a.jsxs)("form",{className:"form-signin",onSubmit:function(e){e.preventDefault()},children:[Object(a.jsx)("label",{htmlFor:"inputLogin",className:"sr-only",children:"Adres email"}),Object(a.jsx)("input",{autoFocus:!0,type:"login",onChange:function(e){O(e.target.value)},id:"inputLogin",className:"form-control",placeholder:"Login",value:h,required:!0}),Object(a.jsx)("label",{htmlFor:"inputPassword",className:"sr-only",children:"Has\u0142o"}),Object(a.jsx)("input",{type:"password",onChange:function(e){g(e.target.value)},id:"inputPassword",value:x,className:"form-control",placeholder:"Has\u0142o",required:!0}),Object(a.jsx)("button",{className:"btn btn-lg btn-primary btn-block",onClick:function(){b.a.post("/signin",{login:h,password:x}).then((function(e){return"success"===e.data?(i(!0),o(h),w("Zalogowano poprawnie"),void t.push("events")):"failure"===e.data?(w("B\u0142\u0119dny login lub has\u0142o"),O(""),void g("")):void 0})).catch((function(e){console.log(e)}))},type:"button",children:"Zaloguj"})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("p",{children:y}),Object(a.jsx)(r.b,{to:"/signup",children:"Zarejestruj konto"})]})]})})},O=n(39),p=n(40),m=n(16),x=n(44),g=n(43),v=function(e){Object(x.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(O.a)(this,n),(a=t.call(this,e)).handleSubmit=function(e){e.preventDefault()},a.signUp=a.signUp.bind(Object(m.a)(a)),a.handleLoginChange=a.handleLoginChange.bind(Object(m.a)(a)),a.handleNameChange=a.handleNameChange.bind(Object(m.a)(a)),a.handleEmailChange=a.handleEmailChange.bind(Object(m.a)(a)),a.handlePasswordChange=a.handlePasswordChange.bind(Object(m.a)(a)),a.state={login:"",name:"",email:"",password:"",confirmation:""},a}return Object(p.a)(n,[{key:"handleNameChange",value:function(e){this.setState({name:e.target.value})}},{key:"handleLoginChange",value:function(e){this.setState({login:e.target.value})}},{key:"handleEmailChange",value:function(e){this.setState({email:e.target.value})}},{key:"handlePasswordChange",value:function(e){this.setState({password:e.target.value})}},{key:"componentDidMount",value:function(){document.getElementById("mainMenu").style.display="none"}},{key:"signUp",value:function(){var e=this;b.a.post("/signup",{login:this.state.login,name:this.state.name,email:this.state.email,password:this.state.password}).then((function(t){"success"===t.data?e.setState({login:"",name:"",email:"",password:"",confirmation:"Rejestracj\u0119 si\u0119 powiod\u0142a. Mo\u017cesz si\u0119 zalogowa\u0107"}):"access denied"===t.data?console.log("Dost\u0119p wzbroniony"):e.setState({name:"",email:"",password:"",confirmation:"Rejestracj\u0119 si\u0119 NIE powiod\u0142a. Spr\xf3buj jeszcze raz"})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return Object(a.jsx)("section",{children:Object(a.jsxs)("div",{children:[Object(a.jsxs)("form",{className:"form-signin",onSubmit:this.handleSubmit,children:[Object(a.jsx)("h2",{className:"form-signin-heading",children:"Zarejestruj si\u0119:"}),Object(a.jsx)("label",{htmlFor:"inputLogin",className:"sr-only",children:"Login"}),Object(a.jsx)("input",{type:"name",onChange:this.handleLoginChange,id:"inputLogin",value:this.state.login,className:"form-control",placeholder:"Login",required:!0,autoFocus:!0}),Object(a.jsx)("label",{htmlFor:"inputName",className:"sr-only",children:"Imie"}),Object(a.jsx)("input",{type:"name",onChange:this.handleNameChange,id:"inputName",value:this.state.name,className:"form-control",placeholder:"Imie",required:!0}),Object(a.jsx)("label",{htmlFor:"inputEmail",className:"sr-only",children:"Adres email"}),Object(a.jsx)("input",{type:"email",onChange:this.handleEmailChange,id:"inputEmail",value:this.state.email,className:"form-control",placeholder:"E-mail",required:!0}),Object(a.jsx)("label",{htmlFor:"inputPassword",className:"sr-only",children:"Has\u0142o"}),Object(a.jsx)("input",{type:"password",onChange:this.handlePasswordChange,id:"inputPassword",value:this.state.password,className:"form-control",placeholder:"Has\u0142o",required:!0}),Object(a.jsx)("button",{className:"btn btn-lg btn-primary btn-block",onClick:this.signUp,type:"button",children:"Zarejestruj"})]}),Object(a.jsx)("div",{children:Object(a.jsx)("h4",{children:this.state.confirmation})}),Object(a.jsx)("div",{children:Object(a.jsx)(r.b,{to:"/signin",children:"Zaloguj"})})]})})}}]),n}(c.Component),f=function(e){var t=e.events,n=e.updateEvent,c=e.deleteEvent;return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("table",{className:"table table-striped table-hover",style:{width:"100%"},children:[Object(a.jsx)("thead",{className:"thead thead-light",children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"#"}),Object(a.jsx)("th",{children:"Zadanie aktywe"}),Object(a.jsx)("th",{children:"Opis"}),Object(a.jsx)("th",{children:"Edytuj"}),Object(a.jsx)("th",{children:"Usu\u0144"})]})}),Object(a.jsx)("tbody",{children:t.map((function(e,t){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{style:{width:"10%"},children:t+1}),Object(a.jsx)("td",{style:{width:"20%"},children:e.title}),Object(a.jsx)("td",{style:{width:"70%"},children:e.subject}),Object(a.jsx)("td",{children:Object(a.jsx)("button",{onClick:n,value:e._id,children:Object(a.jsx)("span",{children:Object(a.jsx)("i",{className:"fa fa-pencil fa-fw"})})})}),Object(a.jsx)("td",{children:Object(a.jsx)("button",{onClick:c,value:e._id,children:Object(a.jsxs)("span",{children:[" ",Object(a.jsx)("i",{className:"fa fa-trash-o fa-lg"})]})})})]},t)}))})]})})},y=function(e){var t=Object(c.useContext)(j).isUserLogged,n=Object(c.useState)([]),i=Object(s.a)(n,2),o=i[0],r=i[1],d=Object(c.useState)(!1),u=Object(s.a)(d,2),h=u[0],O=u[1],p=Object(l.f)(),m=Object(c.useRef)(),x=Object(c.useCallback)((function(){m.current&&b.a.post("/getEvents",{}).then((function(e){"access denied"!==e.data?r(e.data):p.push("/")})).catch((function(e){console.log("error is ",e)}))}),[p]),g=function(){O((function(e){return!e}))},v=function(){p.push({pathname:"/"})};return Object(c.useEffect)((function(){return m.current=!0,console.log("Renderuje ShowEvents... "),x(),function(){m.current=!1,console.log("Czyszcze ShowEvents..")}}),[x,h]),Object(c.useLayoutEffect)((function(){document.getElementById("mainMenu").style.display="flex",console.log("Renderuje useLayoutEffect")}),[]),Object(a.jsx)("div",{ref:m,children:t?Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(f,{events:o,updateEvent:function(e){e.preventDefault();var t=e.currentTarget.value;p.push("/addevent/".concat(t))},deleteEvent:function(e){e.preventDefault();var t=e.currentTarget.value;window.confirm("jeste\u015b pewien aby usun\u0105\u0107")&&b.a.post("/deleteEvent",{id:t}).then((function(e){g()})).catch((function(e){}))}})}):Object(a.jsxs)("div",{children:[Object(a.jsx)("p",{children:"U\u017cytkownik nie jest zalogowany / brak dost\u0119pu"}),Object(a.jsx)("button",{onClick:v,children:"Zaloguj sie"})]})})},w=function(e){var t=e.handleTitleChange,n=e.title,c=e.handleSubjectChange,i=e.subject,o=e.addEvent;return Object(a.jsxs)("div",{style:{width:"100%"},children:[Object(a.jsx)("div",{children:Object(a.jsx)("h4",{children:"Zadanie do wykonania"})}),Object(a.jsx)("div",{className:"col-md-7",children:Object(a.jsx)("div",{className:"form-area",children:Object(a.jsxs)("form",{onSubmit:function(e){e.preventDefault()},children:[Object(a.jsx)("br",{styles:"clear:both"}),Object(a.jsx)("div",{className:"form-group",children:Object(a.jsx)("input",{type:"text",onChange:t,className:"form-control",id:"title",name:"title",value:n||"",placeholder:"Nazwij zadanie",maxLength:"20",required:!0})}),Object(a.jsx)("div",{className:"form-group",children:Object(a.jsx)("textarea",{className:"form-control",onChange:c,type:"textarea",id:"subject",name:"subject",value:i||"",placeholder:"Opisz zadanie",maxLength:"200",rows:"5"})}),Object(a.jsx)("button",{type:"button",onClick:o,id:"submit",name:"submit",className:"btn btn-primary pull-right",value:"",children:"Dodaj/Zmie\u0144"})]})})})]})},k=function(e){var t=e.match.params.id,n=Object(c.useContext)(j).isUserLogged,i=Object(c.useState)(""),o=Object(s.a)(i,2),r=o[0],d=o[1],u=Object(c.useState)(""),h=Object(s.a)(u,2),O=h[0],p=h[1],m=Object(c.useState)(""),x=Object(s.a)(m,2),g=x[0],v=x[1],f=Object(c.useRef)(),y=Object(l.f)(),k=Object(c.useCallback)((function(){void 0!==t&&null!==t&&b.a.post("/getEventWithId",{id:t}).then((function(e){e&&(d(e.data.title),p(e.data.subject),v(e.data._id))})).catch((function(e){console.log("error is ",e)}))}),[t]);Object(c.useEffect)((function(){k()}),[k]);var N=function(){y.push({pathname:"/"})};return Object(a.jsx)("div",{ref:f,children:n?Object(a.jsx)(w,{handleTitleChange:function(e){d(e.target.value)},title:r,handleSubjectChange:function(e){p(e.target.value)},subject:O,addEvent:function(){b.a.post("/addEvent",{title:r,subject:O,id:g}).then((function(e){y.push("/events")})).catch((function(e){console.log(e)}))}}):Object(a.jsxs)("div",{children:[Object(a.jsx)("p",{children:"U\u017cytkownik nie jest zalogowany / brak dost\u0119pu"}),Object(a.jsx)("button",{onClick:N,children:"Zaloguj sie"})]})})},N=function(e){var t=e.history,n=function(){t.push({pathname:"/"})};return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("div",{children:[Object(a.jsx)("p",{children:"U\u017cytkownik nie jest zalogowany / brak dost\u0119pu"}),Object(a.jsx)("button",{onClick:n,children:"Zaloguj sie"})]})})},z=["pasieki","ule","odklady","matki","leczenie","akcje"],C=function(e){var t=Object(c.useContext)(j).isUserLogged,n=Object(l.f)(),i=z.map((function(e){return Object(a.jsx)("li",{className:"list-group-item",children:Object(a.jsx)(r.b,{to:"/manager/".concat(e),children:e})},e)}));return Object(a.jsx)("div",{className:"managerMenu",children:t?Object(a.jsx)("nav",{children:Object(a.jsx)("ul",{className:"list-group",children:i})}):Object(a.jsx)(N,{history:n})})},L=n(5),S=n(10),D=n(12),_=n(3),F="addApiary",E="delete",I="editApiary",U="getApiary",H="getHivesAmount",A="apiary",P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(console.log("Jestem w reducerze Apiarys. Nazwa akcji: ".concat(t.type)),t.type){case F:return t.setDefaultInput.setNameInput(""),t.setDefaultInput.setLocationInput(""),[].concat(Object(D.a)(e),[t.data]);case I:return e.map((function(e){var n=t.data,a=n._id,c=n.name,i=n.location;return e._id!==a?e:{_id:a,name:c,location:i}}));case U:return Object(D.a)(t.data);case E:return e.filter((function(e){return e._id!==t.data.id}));default:return console.warn("Nie znaleziono akcji typu: ".concat(t.type)),e}},B=Object(S.c)({apiarys:P}),T=Object(S.d)(B,Object(S.a)((function(e){return function(e){return function(t){var n=t.data,a=t.type,c=t.dbCollection;console.log("Jestem w apiarysMiddlewar. Akcja: ".concat(t.type)),a===F&&b.a.post("/add",{data:n,dbCollection:c}).then((function(a){"access denied"!==a.data?1===a.data.insertedCount?(t.data={_id:a.data.insertedId,name:n.name,location:n.location},e(t)):alert("B\u0142\u0105d, nie dodano rekordu!"):window.location.assign("/")})).catch((function(e){console.log(e)})),a===U&&b.a.post("/get",{data:n,dbCollection:c}).then((function(n){"access denied"!==n.data?(t.data=n.data,e(t)):window.location.assign("/")})).catch((function(e){console.log(e)})),a===H&&b.a.post("/getHivesAmountInApiary",{}).then((function(n){"access denied"!==n.data?(t.data=n.data,e(t)):window.location.assign("/")})).catch((function(e){console.log(e)})),a===I&&b.a.post("/update",{data:n,dbCollection:c}).then((function(n){"access denied"!==n.data?!0===n.data?(console.log("Pomy\u015blnie edytowano i zapisano"),e(t)):console.warn("B\u0142\u0105d! Nie zmieniono w bazie."):window.location.assign("/")})).catch((function(e){console.log(e)})),a===E&&b.a.post("/delete",{data:n,dbCollection:c}).then((function(n){"access denied"!==n.data?n.data.deletedNumber>0?(console.log("Pomy\u015blnie usuni\u0119to"),e(t)):console.warn("B\u0142\u0105d! Nie usuni\u0119to z bazy."):window.location.assign("/")})).catch((function(e){console.log(e)}))}}}))),R={add:function(e,t,n){var a=e.name,c=e.location;return{type:F,data:{name:a,location:c},dbCollection:A,setDefaultInput:{setNameInput:t,setLocationInput:n}}},edit:function(e){var t=e._id,n=e.name,a=e.location;return{type:I,data:{_id:t,name:n,location:a},dbCollection:A}}},Z=Object(L.b)(null,R)((function(e){var t=e.add,n=e.edit,i=e._id,o=void 0===i?"":i,r=e.name,l=void 0===r?"":r,d=e.location,j=void 0===d?"":d,u=e.callback,b=Object(c.useState)(l),h=Object(s.a)(b,2),O=h[0],p=h[1],m=Object(c.useState)(j),x=Object(s.a)(m,2),g=x[0],v=x[1],f=Object(c.useState)(""),y=Object(s.a)(f,2),w=y[0],k=y[1],N=Object(c.useState)(""),z=Object(s.a)(N,2),C=z[0],L=z[1];return Object(a.jsxs)("div",{className:"form-area mb-2 pb-2",children:[Object(a.jsx)("br",{styles:"clear:both"}),Object(a.jsxs)("form",{onSubmit:function(e){e.preventDefault(),O.length||k("Nie wpisa\u0142e\u015b nazwy pasieki"),g.length||L("Nie wpisa\u0142e\u015b lokalizacji");var a={_id:o,name:O,location:g};o?n(a):t(a,p,v),o&&u()},children:[Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("input",{type:"text",onChange:function(e){p(e.target.value)},className:"form-control",id:"name",name:"name",value:O||"",placeholder:"nazwa(wymagana)",maxLength:"30",required:!0}),Object(a.jsx)("p",{children:w||w})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("input",{type:"text",onChange:function(e){v(e.target.value)},className:"form-control",id:"location",name:"location",value:g||"",placeholder:"lokalizcja (wymagana)",maxLength:"30",required:!0}),Object(a.jsx)("p",{children:C?"".concat(C):""})]}),Object(a.jsx)("div",{className:"form-group",children:Object(a.jsx)("button",{type:"submit",id:"submit",name:"submit",className:"btn btn-primary pull-right",children:o?"Zapisz zmiane":"Dodaj"})})]})]})})),q={del:function(e){return{type:E,data:{id:e},dbCollection:A}}},Y=Object(L.b)(null,q)((function(e){var t=e._id,n=e.name,i=e.location,o=e.del,r=Object(c.useState)(!1),l=Object(s.a)(r,2),d=l[0],j=l[1],u=Object(c.useState)(""),h=Object(s.a)(u,2),O=h[0],p=h[1],m=Object(c.useCallback)((function(e){b.a.post("/getHivesAmountInApiary",{_id:e}).then((function(e){"access denied"!==e.data?(console.log(e.data.result),p(e.data.result)):window.location.assign("/")})).catch((function(e){console.log(e)}))}),[]),x=function(){j((function(e){return!e}))};Object(c.useEffect)((function(){m(t)}),[m,t]);var g=Object(a.jsx)("button",{onClick:x,children:Object(a.jsx)("span",{children:Object(a.jsx)("i",{className:"fa fa-pencil fa-fw"})})}),v=Object(a.jsx)("button",{onClick:function(){o(t,"apiary")},children:Object(a.jsx)("span",{children:Object(a.jsx)("i",{className:"fa fa-trash-o fa-lg"})})}),f=Object(a.jsx)("button",{children:Object(a.jsx)("span",{children:Object(a.jsx)("i",{className:"bi bi-bag-x bi-lg"})})});return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:n}),Object(a.jsx)("td",{children:i}),Object(a.jsx)("td",{children:O}),Object(a.jsx)("td",{children:d?"":g}),Object(a.jsx)("td",{children:O?f:v})]},t),Object(a.jsx)("tr",{children:Object(a.jsx)("td",{colSpan:4,children:function(){if(d)return Object(a.jsx)(Z,{_id:t,name:n,location:i,callback:x})}()})})]})})),M={get:function(e){return{type:U,data:Object(_.a)({},e),dbCollection:A}}},W=Object(L.b)((function(e){return{apiarys:e.apiarys}}),M)((function(e){var t=e.apiarys,n=e.get,i=Object(c.useState)(!1),o=Object(s.a)(i,2),r=o[0],l=o[1];!1===r&&(n(),l(!0));var d=t.map((function(e){return Object(a.jsx)(Y,Object(_.a)({},e),e._id)}));return Object(a.jsx)(a.Fragment,{children:d})})),Q=function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)("h5",{children:"Lista pasiek"}),Object(a.jsxs)("table",{className:"table table-striped table- mt-3",children:[Object(a.jsx)("thead",{className:"thead thead-light",children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"Nazwa"}),Object(a.jsx)("th",{children:"Lokalizacja"}),Object(a.jsx)("th",{children:"Uli"}),Object(a.jsx)("th",{children:"edytuj"}),Object(a.jsx)("th",{children:"usu\u0144"})]})}),Object(a.jsx)("tbody",{children:Object(a.jsx)(W,{})})]})]})},K=function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)("h5",{children:"Dodaj now\u0105 pasieke"}),Object(a.jsx)(Z,{})]})},J=function(){var e=Object(c.useContext)(j).isUserLogged,t=Object(l.f)();return Object(a.jsx)(a.Fragment,{children:e?Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(L.a,{store:T,children:Object(a.jsxs)("div",{children:[Object(a.jsx)(Q,{}),Object(a.jsx)(K,{})]})})}):Object(a.jsx)(N,{history:t})})},V="addHive",G="delete",X="editHive",$="getHives",ee="clear",te="hives";var ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(console.log("Jestem w hivesReducer"),t.type){case V:return alert("dodano nowy ul do bazy"),[].concat(Object(D.a)(e),[t.data]);case X:return e.map((function(e){return e._id!==t.data._id?e:e._id===t.data._id&&e.apiary!==t.data.apiary?{}:Object(_.a)({},t.data)}));case $:return Object(D.a)(t.data);case G:return e.filter((function(e){return e._id!==t.data._id}));case ee:return[];default:return e}},ae="getApiarys";var ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(console.log("Jestem w apiarys Reducerze"),t.type){case ae:return Object(D.a)(t.data);default:return e}},ie=n(42),oe=Object(S.c)({hives:ne,apiarys:ce}),se=Object(S.d)(oe,Object(S.a)(ie.a)),re={addHive:function(e,t){return function(n){b.a.post("/add",{data:e,dbCollection:te}).then((function(e){"access denied"!==e.data?!1!==e.data?(alert("Dodano do bazy"),t({number:"",type:"",mother:"",motherYear:"",power:"",status:"",apiary:"",isActive:!0})):alert("B\u0142\u0105d, nie dodano rekordu!"):window.location.assign("/")})).catch((function(e){console.log(e)}))}}},le=Object(L.b)((function(e){return{apiarys:e.apiarys}}),re)((function(e){var t=e.apiarys,n=e.addHive;Object(c.useLayoutEffect)((function(){document.getElementById("showHives").className="nav-link",document.getElementById("addHive").className="nav-link active"}),[]);var i=Object(c.useState)({number:"",type:"",mother:"",motherYear:"",power:"",status:"",apiary:"",isActive:!0}),o=Object(s.a)(i,2),r=o[0],l=o[1],d=Object(c.useState)(""),j=Object(s.a)(d,2),u=j[0],h=(j[1],function(){r.number&&r.type&&r.mother&&r.motherYear&&r.power&&r.status&&r.apiary?n(r,l):alert("B\u0142\u0105d. Nie podano wszystkich parametr\xf3w")}),O=function(e){l((function(t){return Object(_.a)({number:parseInt(e.currentTarget.value)},t)}))},p=function(e){l((function(t){return Object(_.a)(Object(_.a)({},t),{},{type:e.target.value})}))},m=function(e){l((function(t){return Object(_.a)(Object(_.a)({},t),{},{mother:e.target.value})}))},x=function(e){l((function(t){return Object(_.a)(Object(_.a)({},t),{},{motherYear:e.target.value})}))},g=function(e){l((function(t){return Object(_.a)(Object(_.a)({},t),{},{power:e.target.value})}))},v=function(e){l((function(t){return Object(_.a)(Object(_.a)({},t),{},{status:e.target.value})}))},f=function(e){l((function(t){return Object(_.a)(Object(_.a)({},t),{},{apiary:e.target.value})}))},y=function(e){e.preventDefault(),b.a.post("/getHivesNumbers",{}).then((function(e){!1===e.data.number?l((function(t){return Object(_.a)(Object(_.a)({},t),{},{number:e.data.count})})):l((function(t){return Object(_.a)(Object(_.a)({},t),{},{number:e.data.number})}))})).catch((function(e){console.log(e)}))},w=function(){return Object(a.jsxs)("div",{className:"form-area mt-4",children:[Object(a.jsx)("h5",{children:"Dodawanie nowego Ula"}),Object(a.jsxs)("form",{children:[Object(a.jsx)("br",{styles:"clear:both"}),Object(a.jsxs)("div",{className:"form-group hive",children:[Object(a.jsxs)("div",{className:"hiveNumberInput",children:[Object(a.jsx)("label",{htmlFor:"number",children:"Numer ula"}),Object(a.jsx)("input",{type:"text",onChange:O,className:"form-control",id:"number",name:"number",value:r.number||"",placeholder:"numer ula",maxLength:"3",required:!0,readOnly:!0,disabled:!0})]}),Object(a.jsxs)("div",{className:"hiveNumberButton",children:[Object(a.jsx)("p",{children:Object(a.jsx)("br",{})}),Object(a.jsx)("button",{className:"btn btn-primary",onClick:y,children:"Pobierz z puli"})]})]}),Object(a.jsxs)("div",{className:"form-group hive",children:[Object(a.jsx)("label",{htmlFor:"type",children:"Typ ramki"}),Object(a.jsxs)("select",{type:"text",onChange:p,className:"form-control",id:"type",name:"type",value:r.type||"",placeholder:"wybierz",maxLength:"20",children:[Object(a.jsx)("option",{value:"",children:"wybierz"}),Object(a.jsx)("option",{value:"apipol",children:"Apipol"}),Object(a.jsx)("option",{value:"dadant",children:"Dadant"}),Object(a.jsx)("option",{value:"langstroth",children:"Langstroth"}),Object(a.jsx)("option",{value:"ostrowska",children:"Ostrowska"}),Object(a.jsx)("option",{value:"warszawska",children:"Warszawska"}),Object(a.jsx)("option",{value:"wielkopolska",children:"Wielkopolska"}),Object(a.jsx)("option",{value:"s\u0142owian",children:"S\u0142owian"}),Object(a.jsx)("option",{value:"inna",children:"Inna"})]})]}),Object(a.jsxs)("div",{className:"form-group hive",children:[Object(a.jsx)("label",{htmlFor:"mother",children:"Rasa matki"}),Object(a.jsxs)("select",{type:"text",onChange:m,className:"form-control",id:"mother",name:"mother",value:r.mother||"",placeholder:"wybierz",maxLength:"25",children:[Object(a.jsx)("option",{value:"nieznana",children:"wybierz"}),Object(a.jsx)("option",{value:"Aga",children:"Aga"}),Object(a.jsx)("option",{value:"Alpejka",children:"Alpejka"}),Object(a.jsx)("option",{value:"CT46",children:"CT46"}),Object(a.jsx)("option",{value:"Dobra",children:"Dobra"}),Object(a.jsx)("option",{value:"Karpatka",children:"Karpatka"}),Object(a.jsx)("option",{value:"Reproduktorka",children:"REPRODUKTORKA"}),Object(a.jsx)("option",{value:"Sklenar",children:"Sklenar"}),Object(a.jsx)("option",{value:"Troiseck",children:"Troiseck"}),Object(a.jsx)("option",{value:"Vigor",children:"Vigor"}),Object(a.jsx)("option",{value:"W\u0142asna",children:"W\u0142asna"})]})]}),Object(a.jsxs)("div",{className:"form-group hive",children:[Object(a.jsx)("label",{htmlFor:"motherYear",children:"Rok matki"}),Object(a.jsxs)("select",{onChange:x,className:"form-control",id:"motherYear",name:"motherYear",value:r.motherYear||"",placeholder:"wybierz",maxLength:"4",children:[Object(a.jsx)("option",{value:"nieznany",children:"nieznany"}),Object(a.jsx)("option",{value:"2016",children:"2016"}),Object(a.jsx)("option",{value:"2017",children:"2017"}),Object(a.jsx)("option",{value:"2018",children:"2018"}),Object(a.jsx)("option",{value:"2019",children:"2019"}),Object(a.jsx)("option",{value:"2020",children:"2020"}),Object(a.jsx)("option",{value:"2021",children:"2021"})]})]}),Object(a.jsxs)("div",{className:"form-group hive",children:[Object(a.jsx)("label",{htmlFor:"power",children:"Si\u0142a rodziny"}),Object(a.jsxs)("select",{type:"text",onChange:g,className:"form-control",id:"power",name:"power",value:r.power||"",placeholder:"si\u0142a rodziny",maxLength:"20",children:[Object(a.jsx)("option",{value:"",children:"wybierz"}),Object(a.jsx)("option",{value:"odk\u0142ad",children:"odk\u0142ad"}),Object(a.jsx)("option",{value:"bardzo silna",children:"bardzo silna"}),Object(a.jsx)("option",{value:"silna",children:"silna"}),Object(a.jsx)("option",{value:"\u015brednia",children:"\u015brednia"}),Object(a.jsx)("option",{value:"s\u0142aba",children:"s\u0142aba"})]})]}),Object(a.jsxs)("div",{className:"form-group hive",children:[Object(a.jsx)("label",{htmlFor:"status",children:"Status"}),Object(a.jsxs)("select",{type:"text",onChange:v,className:"form-control",id:"status",name:"status",value:r.status||"",placeholder:"status",maxLength:"30",children:[Object(a.jsx)("option",{value:"",children:"wybierz"}),Object(a.jsx)("option",{value:"produkcyjna",children:"rodzina produkcyjna"}),Object(a.jsx)("option",{value:"wychowuj\u0105ca",children:"rodzina wychowuj\u0105ca"}),Object(a.jsx)("option",{value:"reprodukcyjna",children:"rodzina reprodukcyjna"}),Object(a.jsx)("option",{value:"odk\u0142ad",children:"odk\u0142ad"}),Object(a.jsx)("option",{value:"matka do wymiany",children:"matka do wymiany"}),Object(a.jsx)("option",{value:"trut\xf3wka",children:"trut\xf3wka"}),Object(a.jsx)("option",{value:"bezmateczny",children:"bezmateczny"}),Object(a.jsx)("option",{value:"grzybica",children:"grzybica"}),Object(a.jsx)("option",{value:"nosema",children:"nosema"}),Object(a.jsx)("option",{value:"zgnilec europejski",children:"zgnilec europejski"}),Object(a.jsx)("option",{value:"zgnilec ameryka\u0144ski",children:"zgnilec ameryka\u0144ski"}),Object(a.jsx)("option",{value:"choroba nieznana",children:"choroba nieznana"})]})]}),Object(a.jsxs)("div",{className:"form-group hive",children:[Object(a.jsx)("label",{htmlFor:"pasieka",children:"Przypisz do pasieki"}),Object(a.jsxs)("select",{type:"text",onChange:f,className:"form-control",id:"pasieka",name:"pasieka",value:r.apiary||"",placeholder:"wybierz",maxLength:"30",children:[Object(a.jsx)("option",{value:"",children:"wybierz"}),t.map((function(e,t){var n=e.name,c=e._id;return Object(a.jsx)("option",{value:c,children:n},t)}))]})]}),Object(a.jsx)("button",{type:"button",onClick:h,id:"submit",name:"submit",className:"btn btn-primary pull-right",children:"Dodaj"}),Object(a.jsx)("div",{children:Object(a.jsx)("p",{children:u})})]})]})};return Object(a.jsx)(w,{})})),de={editHive:function(e){return function(t){b.a.post("/update",{data:e,dbCollection:te}).then((function(n){"access denied"!==n.data?!0===n.data?(t({type:X,data:e}),console.log("Pomy\u015blnie edytowano i zapisano")):console.warn("B\u0142\u0105d! Nie zmieniono w bazie."):window.location.assign("/")})).catch((function(e){console.log(e)}))}}},je=Object(L.b)((function(e){return{apiarys:e.apiarys}}),de)((function(e){var t=e.editHive,n=e.apiarys,i=e._id,o=e.number,r=e.type,l=e.mother,d=e.motherYear,j=e.power,u=e.status,b=e.apiary,h=e.callback,O=Object(c.useState)({_id:i,number:o,type:r,mother:l,motherYear:d,power:j,status:u,apiary:b}),p=Object(s.a)(O,2),m=p[0],x=p[1];return Object(a.jsx)("div",{className:"form-area mt-4",children:Object(a.jsxs)("form",{children:[Object(a.jsx)("br",{styles:"clear:both"}),Object(a.jsxs)("div",{className:"form-group hive",children:[Object(a.jsx)("label",{htmlFor:"type",children:"Typ ramki"}),Object(a.jsxs)("select",{type:"text",onChange:function(e){x((function(t){return Object(_.a)(Object(_.a)({},t),{},{type:e.target.value})}))},className:"form-control",id:"type",name:"type",value:m.type||"",placeholder:"wybierz",maxLength:"20",children:[Object(a.jsx)("option",{value:"",children:"wybierz"}),Object(a.jsx)("option",{value:"apipol",children:"Apipol"}),Object(a.jsx)("option",{value:"dadant",children:"Dadant"}),Object(a.jsx)("option",{value:"langstroth",children:"Langstroth"}),Object(a.jsx)("option",{value:"ostrowska",children:"Ostrowska"}),Object(a.jsx)("option",{value:"warszawska",children:"Warszawska"}),Object(a.jsx)("option",{value:"wielkopolska",children:"Wielkopolska"}),Object(a.jsx)("option",{value:"s\u0142owian",children:"S\u0142owian"}),Object(a.jsx)("option",{value:"inna",children:"Inna"})]})]}),Object(a.jsxs)("div",{className:"form-group hive",children:[Object(a.jsx)("label",{htmlFor:"mother",children:"Rasa matki"}),Object(a.jsxs)("select",{type:"text",onChange:function(e){x((function(t){return Object(_.a)(Object(_.a)({},t),{},{mother:e.target.value})}))},className:"form-control",id:"mother",name:"mother",value:m.mother||"",placeholder:"wybierz",maxLength:"25",children:[Object(a.jsx)("option",{value:"nieznana",children:"wybierz"}),Object(a.jsx)("option",{value:"Aga",children:"Aga"}),Object(a.jsx)("option",{value:"Alpejka",children:"Alpejka"}),Object(a.jsx)("option",{value:"CT46",children:"CT46"}),Object(a.jsx)("option",{value:"Dobra",children:"Dobra"}),Object(a.jsx)("option",{value:"Karpatka",children:"Karpatka"}),Object(a.jsx)("option",{value:"Reproduktorka",children:"REPRODUKTORKA"}),Object(a.jsx)("option",{value:"Sklenar",children:"Sklenar"}),Object(a.jsx)("option",{value:"Troiseck",children:"Troiseck"}),Object(a.jsx)("option",{value:"Vigor",children:"Vigor"}),Object(a.jsx)("option",{value:"W\u0142asna",children:"W\u0142asna"})]})]}),Object(a.jsxs)("div",{className:"form-group hive",children:[Object(a.jsx)("label",{htmlFor:"motherYear",children:"Rok matki"}),Object(a.jsxs)("select",{onChange:function(e){x((function(t){return Object(_.a)(Object(_.a)({},t),{},{motherYear:e.target.value})}))},className:"form-control",id:"motherYear",name:"motherYear",value:m.motherYear||"",placeholder:"wybierz",maxLength:"4",children:[Object(a.jsx)("option",{value:"nieznany",children:"nieznany"}),Object(a.jsx)("option",{value:"2016",children:"2016"}),Object(a.jsx)("option",{value:"2017",children:"2017"}),Object(a.jsx)("option",{value:"2018",children:"2018"}),Object(a.jsx)("option",{value:"2019",children:"2019"}),Object(a.jsx)("option",{value:"2020",children:"2020"}),Object(a.jsx)("option",{value:"2021",children:"2021"})]})]}),Object(a.jsxs)("div",{className:"form-group hive",children:[Object(a.jsx)("label",{htmlFor:"power",children:"Si\u0142a rodziny"}),Object(a.jsxs)("select",{type:"text",onChange:function(e){x((function(t){return Object(_.a)(Object(_.a)({},t),{},{power:e.target.value})}))},className:"form-control",id:"power",name:"power",value:m.power||"",placeholder:"si\u0142a rodziny",maxLength:"20",children:[Object(a.jsx)("option",{value:"",children:"wybierz"}),Object(a.jsx)("option",{value:"odk\u0142ad",children:"odk\u0142ad"}),Object(a.jsx)("option",{value:"bardzo silna",children:"bardzo silna"}),Object(a.jsx)("option",{value:"silna",children:"silna"}),Object(a.jsx)("option",{value:"\u015brednia",children:"\u015brednia"}),Object(a.jsx)("option",{value:"s\u0142aba",children:"s\u0142aba"})]})]}),Object(a.jsxs)("div",{className:"form-group hive",children:[Object(a.jsx)("label",{htmlFor:"status",children:"Status"}),Object(a.jsxs)("select",{type:"text",onChange:function(e){x((function(t){return Object(_.a)(Object(_.a)({},t),{},{status:e.target.value})}))},className:"form-control",id:"status",name:"status",value:m.status||"",placeholder:"status",maxLength:"30",children:[Object(a.jsx)("option",{value:"",children:"wybierz"}),Object(a.jsx)("option",{value:"produkcyjna",children:"rodzina produkcyjna"}),Object(a.jsx)("option",{value:"wychowuj\u0105ca",children:"rodzina wychowuj\u0105ca"}),Object(a.jsx)("option",{value:"reprodukcyjna",children:"rodzina reprodukcyjna"}),Object(a.jsx)("option",{value:"odk\u0142ad",children:"odk\u0142ad"}),Object(a.jsx)("option",{value:"matka do wymiany",children:"matka do wymiany"}),Object(a.jsx)("option",{value:"trut\xf3wka",children:"trut\xf3wka"}),Object(a.jsx)("option",{value:"bezmateczny",children:"bezmateczny"}),Object(a.jsx)("option",{value:"grzybica",children:"grzybica"}),Object(a.jsx)("option",{value:"nosema",children:"nosema"}),Object(a.jsx)("option",{value:"zgnilec europejski",children:"zgnilec europejski"}),Object(a.jsx)("option",{value:"zgnilec ameryka\u0144ski",children:"zgnilec ameryka\u0144ski"}),Object(a.jsx)("option",{value:"choroba nieznana",children:"choroba nieznana"})]})]}),Object(a.jsxs)("div",{className:"form-group hive",children:[Object(a.jsx)("label",{htmlFor:"pasieka",children:"Przypisz do pasieki"}),Object(a.jsx)("select",{type:"text",onChange:function(e){x((function(t){return Object(_.a)(Object(_.a)({},t),{},{apiary:e.target.value})}))},className:"form-control",id:"apiary",name:"apiary",value:m.apiary||"",placeholder:"wybierz",maxLength:"30",children:n.map((function(e,t){var n=e.name,c=e._id;return Object(a.jsx)("option",{value:c,children:n},t)}))})]}),Object(a.jsx)("button",{type:"button",onClick:function(e){t(m),h()},id:"submit",name:"submit",className:"btn btn-primary pull-right",children:"Zapisz"})]})})})),ue={delHive:function(e){return function(t){b.a.post("/delete",{data:{id:e},dbCollection:te}).then((function(n){"access denied"!==n.data?!1!==n.data?t({type:G,data:{_id:e}}):alert("B\u0142\u0105d, nie dodano rekordu!"):window.location.assign("/")})).catch((function(e){console.log(e)}))}}},be=Object(L.b)(null,ue)((function(e){var t=e._id,n=e.number,i=e.type,o=e.mother,r=e.motherYear,l=e.power,d=e.status,j=e.apiary,u=e.delHive,b=Object(c.useState)(!1),h=Object(s.a)(b,2),O=h[0],p=h[1],m=function(){p((function(e){return!e}))},x=Object(a.jsx)("button",{onClick:m,children:Object(a.jsx)("span",{children:Object(a.jsx)("i",{className:"fa fa-pencil fa-fw"})})}),g=Object(a.jsx)("button",{onClick:function(){u(t,"hives")},children:Object(a.jsx)("span",{children:Object(a.jsx)("i",{className:"fa fa-trash-o fa-lg"})})});return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:n}),Object(a.jsx)("td",{children:i}),Object(a.jsx)("td",{children:l}),Object(a.jsx)("td",{children:O?"":x}),Object(a.jsx)("td",{children:g})]},t),Object(a.jsx)("tr",{children:Object(a.jsx)("td",{colSpan:5,children:function(){if(O)return Object(a.jsx)(je,{_id:t,number:n,type:i,mother:o,motherYear:r,power:l,status:d,apiary:j,callback:m})}()})})]})})),he={getHives:function(e){return function(t){b.a.post("/get",{apiaryID:e,dbCollection:te}).then((function(e){"access denied"!==e.data?t({type:$,data:e.data}):window.location.assign("/")})).catch((function(e){console.log(e)}))}},clear:function(){return{type:ee,data:null}},getApiarys:function(){return function(e){b.a.post("/get",{dbCollection:"apiary"}).then((function(t){"access denied"!==t.data?e({type:ae,data:t.data}):window.location.assign("/")})).catch((function(e){console.log(e)}))}}},Oe=Object(L.b)((function(e){return{hives:e.hives,apiarys:e.apiarys}}),he)((function(e){var t=e.hives,n=e.apiarys,i=e.getHives,o=e.getApiarys,s=e.clear,r=n.map((function(e,t){var n=e.name,c=e._id;return Object(a.jsx)("option",{value:c,children:n},t)})),l=t.map((function(e){return e._id?Object(a.jsx)(be,Object(_.a)({},e),e._id):null})),d=Object(a.jsxs)("div",{children:[Object(a.jsx)("h5",{children:"Lista uli"}),Object(a.jsxs)("form",{style:{marginTop:"20px",marginBottom:"20px"},children:[Object(a.jsx)("h6",{children:"Wybierz pasieke:"}),Object(a.jsxs)("select",{onChange:function(e){var t=e.target.value;i(t)},className:"form-control",id:"pasieka",name:"pasieka",placeholder:"wybierz",children:[Object(a.jsx)("option",{value:"",children:"wybierz"}),r,Object(a.jsx)("option",{value:"all",children:"wszystkie"})]})]}),Object(a.jsxs)("table",{className:"table table-striped table- mt-3",children:[Object(a.jsx)("thead",{className:"thead thead-light",children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"Nr"}),Object(a.jsx)("th",{children:"Typ"}),Object(a.jsx)("th",{children:"Status"}),Object(a.jsx)("th",{children:"edit"}),Object(a.jsx)("th",{children:"del"})]})}),Object(a.jsx)("tbody",{children:l})]})]});return Object(c.useEffect)((function(){return s(),o(),function(){s()}}),[o,s]),Object(a.jsx)(a.Fragment,{children:d})})),pe=function(){return Object(a.jsx)(Oe,{})},me=function(){var e=Object(c.useContext)(j).isUserLogged,t=Object(l.f)();return Object(c.useLayoutEffect)((function(){document.getElementById("showHives").className="nav-link active",document.getElementById("addHive").className="nav-link"}),[]),Object(a.jsx)(a.Fragment,{children:e?Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(L.a,{store:se,children:Object(a.jsx)("div",{children:Object(a.jsx)(pe,{})})})}):Object(a.jsx)(N,{history:t})})},xe=function(e){var t;switch(e.action){case"showHives":t=Object(a.jsx)(me,{});break;case"addHive":t=Object(a.jsx)(le,{});break;default:t=Object(a.jsx)(me,{})}return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("div",{children:t})})},ge=function(){var e=Object(c.useContext)(j).isUserLogged,t=Object(l.f)(),n=Object(c.useState)(""),i=Object(s.a)(n,2),o=i[0],r=i[1],d=function(e){e.preventDefault(),r(e.target.value)};return Object(a.jsx)(a.Fragment,{children:e?Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(L.a,{store:se,children:[Object(a.jsxs)("ul",{className:"nav nav-tabs",children:[Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)("button",{className:"nav-link active",onClick:d,value:"showHives",id:"showHives",children:"Ule"})}),Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)("button",{className:"nav-link",onClick:d,value:"addHive",id:"addHive",children:"Dodaj"})}),Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)("button",{className:"nav-link",onClick:d,value:"migration",id:"migration",children:"Migracje"})})]}),Object(a.jsx)(xe,{action:o})]})}):Object(a.jsx)(N,{history:t})})},ve=n(18),fe=n.n(ve),ye=n(24),we={addQuen:function(e,t){b.a.post("/addQuen",{quenData:e}).then((function(e){"access denied"!==e.data?1!==e.data.insertedCount?alert("B\u0142\u0105d, nie dodano rekordu!"):t({type:"add",data:e.data.quenData}):window.location.assign("/")})).catch((function(e){console.log(e)}))},getQuens:function(e){b.a.post("/getQuens",{}).then((function(t){if("access denied"!==t.data)return e({type:"fetch",data:t.data});window.location.assign("/")})).catch((function(e){console.log(e)}))},deleteQuen:function(e){console.log("Quen ID do delete: ".concat(e)),b.a.post("/deleteQuen",{id:e}).then((function(e){0===e.data.deletedNumber&&window.alert("B\u0142\u0105d! Nie mo\u017cna usun\u0105\u0107!")})).catch((function(e){}))}},ke=function(e){var t=e.addHandler,n=Object(c.useState)(),i=Object(s.a)(n,2),o=i[0],r=i[1],l=Object(c.useState)(),d=Object(s.a)(l,2),j=d[0],u=d[1],b=function(){var e=Object(ye.a)(fe.a.mark((function e(){var n;return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={line:o,delivery:j},e.next=3,we.addQuen(n,t);case 3:r(""),u("");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:"form-area mt-4",children:[Object(a.jsx)("h5",{children:"Podaj dane nowej Matki"}),Object(a.jsxs)("form",{children:[Object(a.jsx)("br",{styles:"clear:both"}),Object(a.jsx)("div",{className:"form-group",children:Object(a.jsx)("input",{type:"text",onChange:function(e){r(e.target.value)},className:"form-control",id:"line",name:"line",value:o||"",placeholder:"linia",maxLength:"25",required:!0})}),Object(a.jsx)("div",{className:"form-group",children:Object(a.jsx)("input",{type:"text",onChange:function(e){u(e.target.value)},className:"form-control",id:"delivery",name:"delivery",value:j||"",placeholder:"dostawca",maxLength:"25",required:!0})}),Object(a.jsx)("button",{type:"button",onClick:b,id:"submit",name:"submit",className:"btn btn-primary pull-right",children:"Dodaj"})]})]})},Ne=function(e){var t=e._id,n=e.line,c=e.delivery,i=e.onClickHandler,o=function(){var e=Object(ye.a)(fe.a.mark((function e(){var n;return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.next=3,we.deleteQuen(n);case 3:i({type:"remove",_id:t});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:n}),Object(a.jsx)("td",{children:c}),Object(a.jsx)("td",{children:Object(a.jsx)("button",{onClick:o,children:"Usu\u0144"})})]},t)},ze=function(e,t){switch(t.type){case"add":return[].concat(Object(D.a)(e),[t.data]);case"remove":return e.filter((function(e){return e._id!==t._id}));case"fetch":return t.data;default:throw new Error("Nie znaleziono takiej akcji")}},Ce=function(e,t){var n=e.map((function(e){return Object(a.jsx)(Ne,Object(_.a)({onClickHandler:t},e),e._id)}));return Object(a.jsx)("div",{children:Object(a.jsxs)("table",{className:"table table-striped table-hover",children:[Object(a.jsx)("thead",{className:"thead thead-light",children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"Linia"}),Object(a.jsx)("th",{children:"Dostawca"}),Object(a.jsx)("th",{children:"usu\u0144"})]})}),Object(a.jsx)("tbody",{children:n})]})})},Le=function(){var e=Object(c.useContext)(j).isUserLogged,t=Object(l.f)(),n=Object(c.useReducer)(ze,[]),i=Object(s.a)(n,2),o=i[0],r=i[1];return Object(c.useEffect)((function(){we.getQuens(r)}),[]),Object(a.jsx)(a.Fragment,{children:e?Object(a.jsxs)(a.Fragment,{children:[Ce(o,r),Object(a.jsx)(ke,{addHandler:r})]}):Object(a.jsx)(N,{history:t})})},Se="addDrug",De="delete",_e="editDrug",Fe="getDrugs",Ee="treatment",Ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(console.log("Jestem w reducerze Treatment. Nazwa akcji: ".concat(t.type)),t.type){case Se:return t.setDefaultInput.setNameInput(""),t.setDefaultInput.setProducerInput(""),t.setDefaultInput.setDosageInput(""),[].concat(Object(D.a)(e),[t.data]);case _e:return e.map((function(e){var n=t.data,a=n._id,c=n.name,i=n.producer,o=n.dosage;return e._id!==a?e:{_id:a,name:c,producer:i,dosage:o}}));case Fe:return Object(D.a)(t.data);case De:return e.filter((function(e){return e._id!==t.data.id}));default:return e}},Ue=Object(S.c)({treatment:Ie}),He=Object(S.d)(Ue,Object(S.a)((function(e){return function(e){return function(t){var n=t.data,a=t.type,c=t.dbCollection;a===Se&&b.a.post("/add",{data:n,dbCollection:c}).then((function(a){"access denied"!==a.data?1===a.data.insertedCount?(t.data={_id:a.data.insertedId,name:n.name,producer:n.producer,dosage:n.dosage},e(t)):alert("B\u0142\u0105d, nie dodano rekordu!"):window.location.assign("/")})).catch((function(e){console.log(e)})),a===Fe&&b.a.post("/get",{data:n,dbCollection:c}).then((function(n){"access denied"!==n.data?(t.data=n.data,e(t)):window.location.assign("/")})).catch((function(e){console.log(e)})),a===_e&&b.a.post("/update",{data:n,dbCollection:c}).then((function(n){"access denied"!==n.data?!0===n.data?(console.log("Pomy\u015blnie edytowano i zapisano"),e(t)):console.warn("B\u0142\u0105d! Nie zmieniono w bazie."):window.location.assign("/")})).catch((function(e){console.log(e)})),a===De&&b.a.post("/delete",{data:n,dbCollection:c}).then((function(n){"access denied"!==n.data?n.data.deletedNumber>0?(console.log("Pomy\u015blnie usuni\u0119to"),e(t)):console.warn("B\u0142\u0105d! Nie usuni\u0119to z bazy."):window.location.assign("/")})).catch((function(e){console.log(e)}))}}}))),Ae={add:function(e,t,n,a){var c=e.name,i=e.producer,o=e.dosage;return{type:Se,data:{name:c,producer:i,dosage:o},dbCollection:Ee,setDefaultInput:{setNameInput:t,setProducerInput:n,setDosageInput:a}}},edit:function(e){var t=e._id,n=e.name,a=e.producer,c=e.dosage;return{type:_e,data:{_id:t,name:n,producer:a,dosage:c},dbCollection:Ee}}},Pe=Object(L.b)(null,Ae)((function(e){var t=e.add,n=e.edit,i=e._id,o=void 0===i?"":i,r=e.name,l=void 0===r?"":r,d=e.producer,j=void 0===d?"":d,u=e.dosage,b=void 0===u?"":u,h=e.callback;console.log("_id: ".concat(o));var O=Object(c.useState)(l),p=Object(s.a)(O,2),m=p[0],x=p[1],g=Object(c.useState)(j),v=Object(s.a)(g,2),f=v[0],y=v[1],w=Object(c.useState)(b),k=Object(s.a)(w,2),N=k[0],z=k[1],C=Object(c.useState)(""),L=Object(s.a)(C,2),S=L[0],D=L[1],_=Object(c.useState)(""),F=Object(s.a)(_,2),E=F[0],I=F[1],U=Object(c.useState)(""),H=Object(s.a)(U,2),A=H[0],P=H[1];return Object(a.jsxs)("div",{className:"form-area mb-2 pb-2",children:[Object(a.jsx)("br",{styles:"clear:both"}),Object(a.jsxs)("form",{onSubmit:function(e){e.preventDefault(),m.length||D("Nie wpisa\u0142e\u015b nazwy leku"),f.length||I("Nie wpisa\u0142e\u015b producenta"),N.length||P("Nie wpisa\u0142e\u015b dawkowania");var a={_id:o,name:m,producer:f,dosage:N};o?n(a):t(a,x,y,z),o&&h()},children:[Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("input",{type:"text",onChange:function(e){x(e.target.value)},className:"form-control",id:"name",name:"name",value:m||"",placeholder:"nazwa(wymagana)",maxLength:"30",required:!0}),Object(a.jsx)("p",{children:S||S})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("input",{type:"text",onChange:function(e){y(e.target.value)},className:"form-control",id:"producer",name:"producer",value:f||"",placeholder:"producent(wymagane)",maxLength:"30",required:!0}),Object(a.jsx)("p",{children:E?"".concat(E):""})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("input",{type:"text",onChange:function(e){z(e.target.value)},className:"form-control",id:"dosage",name:"dosage",value:N||"",placeholder:"dawkowanie(wymagane)",maxLength:"25",required:!0}),A?"".concat(A):""]}),Object(a.jsx)("div",{className:"form-group",children:Object(a.jsx)("button",{type:"submit",id:"submit",name:"submit",className:"btn btn-primary pull-right",children:o?"Zapisz zmiane":"Dodaj"})})]})]})})),Be={del:function(e,t){return{type:De,data:{id:e,collection:t},dbCollection:Ee}}},Te=Object(L.b)(null,Be)((function(e){var t=e._id,n=e.name,i=e.producer,o=e.dosage,r=e.del,l=Object(c.useState)(!1),d=Object(s.a)(l,2),j=d[0],u=d[1],b=function(){u((function(e){return!e}))},h=Object(a.jsx)("button",{onClick:b,children:Object(a.jsx)("span",{children:Object(a.jsx)("i",{className:"fa fa-pencil fa-fw"})})}),O=Object(a.jsx)("button",{onClick:function(){console.log("Klikni\u0119to delete"),r(t,"treatment")},children:Object(a.jsx)("span",{children:Object(a.jsx)("i",{className:"fa fa-trash-o fa-lg"})})});return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:n}),Object(a.jsx)("td",{children:i}),Object(a.jsx)("td",{children:o}),Object(a.jsx)("td",{children:j?"":h}),Object(a.jsx)("td",{children:O})]},t),Object(a.jsx)("tr",{children:Object(a.jsx)("td",{colSpan:5,children:function(){if(j)return Object(a.jsx)(Pe,{_id:t,name:n,producer:i,dosage:o,callback:b})}()})})]})})),Re={get:function(e){return{type:Fe,data:Object(_.a)({},e),dbCollection:Ee}}},Ze=Object(L.b)((function(e){return{drugs:e.treatment}}),Re)((function(e){var t=e.drugs,n=e.get,i=Object(c.useState)(!1),o=Object(s.a)(i,2),r=o[0],l=o[1];!1===r&&(n(),l(!0));var d=t.map((function(e){return Object(a.jsx)(Te,Object(_.a)({},e),e._id)}));return Object(a.jsx)(a.Fragment,{children:d})})),qe=function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)("h5",{children:"Lista lek\xf3w"}),Object(a.jsxs)("table",{className:"table table-striped table- mt-3",children:[Object(a.jsx)("thead",{className:"thead thead-light",children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"Lek"}),Object(a.jsx)("th",{children:"Dostawca"}),Object(a.jsx)("th",{children:"Dawkowanie"}),Object(a.jsx)("th",{children:"edytuj"}),Object(a.jsx)("th",{children:"usu\u0144"})]})}),Object(a.jsx)("tbody",{children:Object(a.jsx)(Ze,{})})]})]})},Ye=function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)("h5",{children:"Dodaj nowy lek"}),Object(a.jsx)(Pe,{})]})},Me=function(){var e=Object(c.useContext)(j).isUserLogged,t=Object(l.f)();return Object(a.jsx)(a.Fragment,{children:e?Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(L.a,{store:He,children:Object(a.jsxs)("div",{children:[Object(a.jsx)(qe,{}),Object(a.jsx)(Ye,{})]})})}):Object(a.jsx)(N,{history:t})})},We=function(e){var t,n=e.match.params.option;switch(n){case"pasieki":t=Object(a.jsx)(J,{});break;case"ule":t=Object(a.jsx)(ge,{});break;case"matki":t=Object(a.jsx)(Le,{});break;case"leczenie":t=Object(a.jsx)(Me,{});break;default:console.log("b\u0142\u0119dny link")}return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{children:Object(a.jsxs)("h5",{children:["Zarz\u0105dzanie - ",n]})}),Object(a.jsx)("div",{children:t}),Object(a.jsx)("div",{children:Object(a.jsx)(r.b,{to:"/managers",children:Object(a.jsx)("h6",{children:"Powr\xf3t"})})})]})},Qe=function(){var e=Object(c.useContext)(j),t=e.cleanUsername,n=e.toggleUserLogged,i=Object(l.f)();Object(c.useEffect)((function(){return o(),function(){n(!1),t()}}));var o=function(){b.a.post("/logout",{}).then((function(e){!0===e.data&&i.push("/"),!1===e.data&&console.log("Nie zadzia\u0142a\u0142o wylogowanie")})).catch((function(e){console.log("error is ",e)}))};return Object(a.jsx)(a.Fragment,{})},Ke=function(){return Object(a.jsxs)("nav",{className:"navbar-toggleable-md navbar-expand-lg navbar-light bg-light mt-4 mb-3 ",id:"mainMenu",name:"mainMenu",style:{display:"none"},children:[Object(a.jsx)("button",{className:"navbar-toggler navbar-toggler-right",type:"button","data-toggle":"collapse","data-target":"#mainNavigation","aria-controls":"mainNavigation","aria-expanded":"false","aria-label":"Poka\u017c lub ukryj nawigacj\u0119",children:Object(a.jsx)("span",{className:"navbar-toggler-icon"})}),Object(a.jsx)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:Object(a.jsxs)("ul",{className:"navbar-nav mr-auto",children:[Object(a.jsx)("li",{id:"eventsLink",className:"nav-item",children:Object(a.jsx)(r.c,{to:"/events",className:"nav-link",children:"Zadania"})}),Object(a.jsx)("li",{id:"addLink",className:"nav-item ",children:Object(a.jsx)(r.c,{to:"/addevent",className:"nav-link",children:"Dodaj zadanie"})}),Object(a.jsxs)("li",{id:"manageLink",className:"nav-item dropdown",children:[Object(a.jsx)(r.c,{to:"/managers",className:"nav-link dropdown-toggle",id:"navbarDropdownMenuLink","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:"Zarz\u0105dzanie"}),Object(a.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdownMenuLink",children:[Object(a.jsx)(r.c,{to:"/a",className:"dropdown-item",children:"Action"}),Object(a.jsx)(r.c,{to:"/aa",className:"dropdown-item",children:"Action"}),Object(a.jsx)(r.c,{to:"/aaa",className:"dropdown-item",children:"Action"})]})]}),Object(a.jsx)("li",{id:"profileLink",className:"nav-item ",children:Object(a.jsx)(r.c,{to:"/settings",className:"nav-link",children:"Ustawienia"})}),Object(a.jsx)("li",{id:"logoutLink",className:"nav-item ",children:Object(a.jsx)(r.c,{to:"/logout",className:"nav-link",children:"Wyloguj"})})]})})]})},Je=function(e){var t=e.username;return Object(a.jsx)(a.Fragment,{children:t?Object(a.jsxs)("h6",{children:["U\u017cytkownik: ",t]}):Object(a.jsx)("p",{})})},Ve=function(){return Object(a.jsx)("div",{children:Object(a.jsx)("h4",{children:"Strona nie istnieje"})})},Ge=function(){var e=Object(c.useState)(d.isUserLogged),t=Object(s.a)(e,2),n=t[0],i=t[1],o=Object(c.useState)(d.username),u=Object(s.a)(o,2),b=u[0],O=u[1];return Object(a.jsx)(r.a,{history:c.hashHistory,children:Object(a.jsx)(j.Provider,{value:{isUserLogged:n,toggleUserLogged:function(e){i(e)},username:b,changeUsername:function(e){O(e)},cleanUsername:function(){O("")}},children:Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(Je,{username:b}),Object(a.jsx)("aside",{children:Object(a.jsx)(Ke,{})}),Object(a.jsx)("section",{children:Object(a.jsxs)(l.c,{children:[Object(a.jsx)(l.a,{path:"/",exact:!0,children:Object(a.jsx)(h,{})}),Object(a.jsx)(l.a,{path:"/signin",children:Object(a.jsx)(h,{})}),Object(a.jsx)(l.a,{path:"/signup",component:v}),Object(a.jsx)(l.a,{path:"/events",children:Object(a.jsx)(y,{})}),Object(a.jsx)(l.a,{path:"/addevent/:id",component:k}),Object(a.jsx)(l.a,{path:"/addevent",component:k}),Object(a.jsx)(l.a,{path:"/managers",component:C}),Object(a.jsx)(l.a,{path:"/manager/:option",component:We}),Object(a.jsx)(l.a,{path:"/logout",component:Qe}),Object(a.jsx)(l.a,{component:Ve})]})})]})})})},Xe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,76)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),a(e),c(e),i(e),o(e)}))};n(73),n(74);o.a.render(Object(a.jsx)(Ge,{}),document.getElementById("root")),Xe()}},[[75,1,2]]]);
//# sourceMappingURL=main.bac34b96.chunk.js.map